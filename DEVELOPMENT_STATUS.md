# 개발 현황 체크리스트

이 문서는 엔터프라이즈 정적 CMS 프로젝트의 현재 개발 현황을 요약합니다.

## 완료된 작업

- [x] **[STEP 1] 모노레포 구조 설정**
  - [x] `apps` 및 `packages` 디렉토리 생성.
  - [x] `pnpm` 워크스페이스 설정.

- [x] **[STEP 2] 공유 패키지 구현**
  - [x] **`packages/shared/db`**:
    - [x] Drizzle ORM 설치.
    - [x] `schema.ts`에 데이터베이스 스키마 정의.
  - [x] **`packages/shared/types`**:
    - [x] Zod 설치.
    - [x] 초기 유효성 검사 스키마 생성.

- [x] **[STEP 3] `cms-api` 개발**
  - [x] Hono 프로젝트 초기화.
  - [x] 테넌트 식별 미들웨어 구현 (더미).
  - [x] JWT 기반 인증 설정.
  - [x] 모든 데이터 모델에 대한 더미 CRUD API 엔드포인트 개발.

- [x] **[STEP 4] `renderer` 개발**
  - [x] Hono 프로젝트 초기화.
  - [x] `cms-api`에서 콘텐츠를 가져오는 로직 구현 (더미).

- [x] **[STEP 5] 데이터베이스 및 배포 설정**
  - [x] Cloudflare D1 데이터베이스 및 KV 네임스페이스 설정.
  - [x] `cms-api`용 `wrangler.toml` 구성.
  - [x] GitHub Actions를 사용한 기본 CI/CD 파이프라인 생성.

## 막힌 작업

- [ ] **데이터베이스 마이그레이션**
  - **문제**: `drizzle-kit generate` 명령이 "Cannot read properties of undefined (reading 'value')"라는 모호한 오류로 실패합니다. 이는 현재 환경의 도구 문제로 보입니다.
  - **영향**: D1 데이터베이스에 데이터베이스 스키마를 자동으로 적용할 수 없습니다.

## 후속 작업 (다음 단계)

프로젝트를 계속 진행하기 위한 제안된 다음 단계는 다음과 같습니다.

1.  **데이터베이스 마이그레이션 문제 해결**:
    - `drizzle-kit` 오류를 추가로 조사합니다. `drizzle-kit`, Node.js 또는 `pnpm`의 다른 버전을 시도하거나 Drizzle 커뮤니티의 도움을 받는 방법이 있을 수 있습니다.

2.  **수동 데이터베이스 스키마 적용**:
    - 임시 방편으로, `wrangler d1 execute`를 사용하여 테이블 생성을 위한 SQL을 수동으로 생성하고 D1 데이터베이스에 적용할 수 있습니다.

3.  **실제 API 로직 구현**:
    - `cms-api`의 더미 CRUD 엔드포인트를 Drizzle ORM을 사용하여 D1 데이터베이스와 상호 작용하는 실제 데이터베이스 쿼리로 대체합니다.

4.  **실제 렌더러 로직 구현**:
    - `renderer` 애플리케이션을 개선하여 호스트 이름을 기반으로 `cms-api`에서 콘텐츠를 적절하게 가져와 렌더링하도록 합니다.

5.  **기능 개선 및 확장**:
    - 기술 설계 문서에 설명된 사용자 관리, 콘텐츠 게시 워크플로 및 테넌트 구성과 같은 전체 기능 세트를 구현합니다.