# 개발 현황 체크리스트 (2025-12-29 업데이트)

이 문서는 엔터프라이즈 정적 CMS 프로젝트의 현재 개발 현황을 요약합니다.

## 완료된 작업

- [x] **모노레포 및 기본 구조 설정**
  - [x] `pnpm` 워크스페이스 기반 모노레포 구조 생성 (`apps`, `packages`).
  - [x] Drizzle ORM 및 Zod를 사용한 공유 패키지(`db`, `types`) 구현.
  - [x] Cloudflare D1/KV 네임스페이스 정보로 `wrangler.toml` 구성.
  - [x] GitHub Actions 기본 CI 파이프라인 생성.

- [x] **`cms-api`: 핵심 로직 구현**
  - [x] Hono 기반 프로젝트 초기화.
  - [x] **인증**: JWT 기반 인증 시스템 구현 및 Cloudflare 환경 변수(`c.env.JWT_SECRET`) 연동.
  - [x] **테넌트 식별**: Cloudflare KV(`c.env.KV`)를 사용하여 요청 도메인에 따른 테넌트를 식별하는 미들웨어 구현.
  - [x] **데이터베이스 연동**:
    - [x] D1 데이터베이스 연결 유틸리티(`db.ts`) 생성.
    - [x] `tenants`, `admins`, `categories`, `articles`의 모든 CRUD API를 실제 D1 데이터베이스 쿼리 로직으로 **완전 대체**.

- [x] **`renderer`: 기본 구현**
  - [x] Hono 기반 프로젝트 초기화.
  - [x] `cms-api`에서 콘텐츠를 가져오는 더미 로직 구현.

## 주의사항 및 수동 작업

- [ ] **데이터베이스 스키마 적용**
  - **문제**: `drizzle-kit` 도구가 현재 환경에서 불안정하여 자동 마이그레이션 파일 생성이 실패했습니다.
  - **해결책**: 이 문제를 우회하기 위해 프로젝트 루트에 `init.sql` 파일을 생성했습니다. 이 SQL 파일은 D1 데이터베이스에 직접 실행하여 테이블을 생성할 수 있습니다.
  - **필요한 수동 작업**: Cloudflare 대시보드나 `wrangler d1 execute` 명령어를 통해 `init.sql` 파일의 내용을 D1 데이터베이스(`bpr-db`)에 실행해야 합니다.

- [ ] **Git 동기화 문제**
  - **문제**: 로컬 저장소와 원격 저장소 간의 동기화가 필요합니다 (`git pull`).
  - **필요한 수동 작업**: `git push`를 하기 전에 `git pull`을 실행하여 원격 저장소의 변경 사항을 먼저 가져와야 합니다.

## 후속 개발 작업 (Next Steps)

1.  **API 로직 고도화**:
    - `admins` API의 비밀번호 생성 및 업데이트 시, 실제 비밀번호 해싱(e.g., Argon2, Bcrypt) 로직을 구현해야 합니다. (현재는 `"dummy_hashed_password"`로 되어 있음)

2.  **`renderer` 기능 개선**:
    - `renderer`의 `index.ts`에 하드코딩된 `API_URL`을 Cloudflare 환경 변수나 다른 동적인 방법으로 가져오도록 수정해야 합니다.
    - 실제 `cms-api`를 호출하여 가져온 데이터를 기반으로 페이지를 렌더링하는 로직을 구현해야 합니다.

3.  **`drizzle-kit` 문제 해결**:
    - 장기적인 유지보수를 위해 `drizzle-kit`이 정상적으로 동작하도록 환경을 재구성하거나 다른 해결책을 모색할 필요가 있습니다.

4.  **기능 확장**:
    - 기술 설계 문서에 명시된 다대다(many-to-many) 관계 처리(e.g., 게시글에 카테고리 연결), 콘텐츠 게시 워크플로, 사용자 역할 기반 접근 제어 등 추가 기능을 구현합니다.
